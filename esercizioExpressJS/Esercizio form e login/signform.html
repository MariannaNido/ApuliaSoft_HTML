<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        <h1>Form di registrazione</h1>

        <form action="http://localhost:3000/signin" method="POST">
            <label for="username">Username</label>
            <input type="text" name="username" id="username">
            <br>
            <br>

            <label for="password">Password</label>
            <input type="password" name="password" id="password">
            <br>
            <br>

            <button type="submit">Registrati!</button>
        </form>

        <script>
            document.getElementById("submit").addEventListener("click", 
            function(){

                let alertPopUp = ""

                let username = document.getElementById("username").value;
                if (username==""){
                    alertPopUp = alertPopUp + "Il campo <Username> è obbligatorio\n\n";
                }

                let lower = /[a-z]/g;
                let upper = /[A-Z]/g;
                let numbers = /[0-9]/g;
                let special = /\W/g;
                let passVal = document.getElementById("password").value;
                if(passVal==""){
                    alertPopUp = alertPopUp + "Il campo <Password> è obbligatorio\n\n";
                } else if (passVal.length<8){
                    alertPopUp = alertPopUp + "Attenzione, il campo <Password> deve contenere almeno 8 caratteri\n\n";
                } else if (!lower.test(passVal) || !upper.test(passVal) || !numbers.test(passVal) || !special.test(passVal)){
                    alertPopUp = alertPopUp + "Attenzione, il campo <Password> deve contenere una maiuscola, una minuscola, un numero e un carattere speciale\n\n";
                }
                    
                alert(alertPopUp);
              
            });
        </script>
    </body>

</html>